PF2 Secretes:
  Tasks:
    ✔ Вынести модель core.messages в отдельный файл @done (16-12-09 09:59)
    ✔ Добавить длину пин-кода и ttl в конфигурационный файл @done (16-12-09 10:05)
    ✔ Сохранение сообщения @done (16-12-09 11:57)
    ✔ Шифрование сообщения и генерация токена @done (16-12-09 11:57)
    ✔ Загрузка сообщения @done (16-12-09 17:05)
    ✔ Сделать проверку ошибок и объединить шаблоны с pin-формой и показом сообщения @done (16-12-10 08:37)
    ✔ Удаление «старых» сообщений через команду manage.p secrets cleanup @done (16-12-13 10:46)
    ✔ Добавить проверку параметров формы при сохранении сообщения @done (16-12-13 11:46)
    ✔ Копирование сообщения в буфер обмена через clipboardjs @done (16-12-17 20:23)
    ✔ Дизайн сайта @done (16-12-17 20:51)
    ✔ Описание сайта на главной странице @done (16-12-17 20:51)

  API:
    ✔ Написать спецификацию API в README.md @done (16-12-13 11:58)
    ✔ Написать модуль для API @done (16-12-13 22:30)
    ✔ Добавить CORS-заголовки @done (16-12-15 11:03)
    ☐ Добавить в API-модуль комментарии

  Bugs:

PF2:
  Features:
    ✔ Добавить параметр cryptKey в pfSQLSecurity.encode/decode @done (16-12-09 12:08)
    ☐ Перенести команду manage.p sql в библиотеку
      Дамп схемы для sqlite: echo ".schema" | sqlite3 test_dump.sqlite3
    ☐ Убрать в antiflood sql-команды с данными из лога
    ☐ В генератор форм учитывать поле formField из поля модели
    ☐ Парсинг строки подключения перенести в pfConnection и сделать поля host, user и т.д.
    ☐ Процессор static в роутере. Полезно, если статику хотим закрыть авторизацией
      router.Static("/assets", "./assets")
      router.StaticFS("/more_static", http.Dir("my_file_system"))
      router.StaticFile("/favicon.ico", "./resources/favicon.ico")
    ☐ Сделать обработку X-Real-IP и X-Forwarded-For в pfRequest.
      https://github.com/gin-gonic/gin/blob/master/context.go#L341

  Auth:
    ☐ В psSQLSecurity есть метод digest описан как hmac-digest, но хеширует без hmac. Перенести метод digest из CoreSecurity, добавить параметры secretKey и disableHMAC.
    ☐ В auth.p@pfUserRolesAuth добавить время жизни куки в токен и проверять при авторизации
    ☐ Сделать дефолтную генерацию secureToken в модели pfUserModel. Посолить токен текущим временем.
    ☐ Команда manage.p auth [create-user|modify-user]



＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿
Archive:
